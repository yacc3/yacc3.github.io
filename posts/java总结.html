

<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
  <head>
    <meta charset="utf-8">
    <title>java总结</title>
    
    <meta name="author" content="yacc3">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/syntax.css" rel="stylesheet" type="text/css" media="all">
    <link href="/css/bootstrap.2.2.2.min.css" rel="stylesheet" type="text/css" media="all">
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all">
    
  <script type="text/javascript" src="/js/jquery.min.js"></script>
  <script type="text/javascript" src="/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/js/jquery.tocLight.js"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [ ['$[',']$'] ]}
    });
  </script>
    <link href="" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container-narrow">
          <a class="brand" href="/">yacc3</a>
          <ul class="nav">
            <li><a href="/explore.html">Explore</a></li>
            <li><a href="/categories.html">Category</a></li>
            <li><a href="/tags.html">Tag</a></li>
            <li><a href="/archive.html">Archive</a></li>
            <li><a href="/about.html">About</a></li>

<!--             <li><a href="https://github.com/yaccai">Github</a></li> -->
          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="content">
        

<div class="page-header">
  <h11>java总结 </h11>
</div>

<div class="row-fluid post-full">
  <div class="span12">


    <div class="date">
        <span>2016-03-02 </span>
    </div>
    <div class="content">
        <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">集合</span></a>
              <ul>
                <li class="toc_level-2 toc_section-2">
                  <a href="#tocAnchor-1-1-1"><span class="tocnumber">1.1</span> <span class="toctext">结构</span></a>
                </li>
                <li class="toc_level-2 toc_section-3">
                  <a href="#tocAnchor-1-1-2"><span class="tocnumber">1.2</span> <span class="toctext">Collection</span></a>
                </li>
                <li class="toc_level-2 toc_section-4">
                  <a href="#tocAnchor-1-1-3"><span class="tocnumber">1.3</span> <span class="toctext">List</span></a>
                </li>
                <li class="toc_level-2 toc_section-5">
                  <a href="#tocAnchor-1-1-4"><span class="tocnumber">1.4</span> <span class="toctext">辅助</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-6">
              <a href="#tocAnchor-1-6"><span class="tocnumber">2</span> <span class="toctext">线程</span></a>
              <ul>
                <li class="toc_level-2 toc_section-7">
                  <a href="#tocAnchor-1-6-1"><span class="tocnumber">2.1</span> <span class="toctext">线程状态</span></a>
                </li>
                <li class="toc_level-2 toc_section-8">
                  <a href="#tocAnchor-1-6-2"><span class="tocnumber">2.2</span> <span class="toctext">sleep和 yield</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-9">
              <a href="#tocAnchor-1-9"><span class="tocnumber">3</span> <span class="toctext">流与函数式</span></a>
              <ul>
                <li class="toc_level-2 toc_section-10">
                  <a href="#tocAnchor-1-9-1"><span class="tocnumber">3.1</span> <span class="toctext">常用流方法</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-11">
              <a href="#tocAnchor-1-11"><span class="tocnumber">4</span> <span class="toctext">垃圾回收</span></a>
              <ul>
                <li class="toc_level-2 toc_section-12">
                  <a href="#tocAnchor-1-11-1"><span class="tocnumber">4.1</span> <span class="toctext">JVM</span></a>
                </li>
                <li class="toc_level-2 toc_section-13">
                  <a href="#tocAnchor-1-11-2"><span class="tocnumber">4.2</span> <span class="toctext">对象使用的特点</span></a>
                </li>
                <li class="toc_level-2 toc_section-14">
                  <a href="#tocAnchor-1-11-3"><span class="tocnumber">4.3</span> <span class="toctext">堆区内存的划分</span></a>
                </li>
                <li class="toc_level-2 toc_section-15">
                  <a href="#tocAnchor-1-11-4"><span class="tocnumber">4.4</span> <span class="toctext">寻找垃圾</span></a>
                </li>
                <li class="toc_level-2 toc_section-16">
                  <a href="#tocAnchor-1-11-5"><span class="tocnumber">4.5</span> <span class="toctext">回收过程</span></a>
                </li>
                <li class="toc_level-2 toc_section-17">
                  <a href="#tocAnchor-1-11-6"><span class="tocnumber">4.6</span> <span class="toctext">Colletion 泄漏</span></a>
                </li>
                <li class="toc_level-2 toc_section-18">
                  <a href="#tocAnchor-1-11-7"><span class="tocnumber">4.7</span> <span class="toctext">JVM 加载 class 文件的原理机制</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-19">
              <a href="#tocAnchor-1-19"><span class="tocnumber">5</span> <span class="toctext">序列化</span></a>
              <ul>
                <li class="toc_level-2 toc_section-20">
                  <a href="#tocAnchor-1-19-1"><span class="tocnumber">5.1</span> <span class="toctext">transient</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><p>总结java</p>

<!-- more -->

<h1 id="tocAnchor-1-1">集合</h1>

<h2 id="tocAnchor-1-1-1">结构</h2>

<div class="highlighter-rouge">
  <div class="highlight">
    <pre class="highlight">
      <code>Collection
│
│----List
│      ├----LinkedList
│      ├----ArrayList
│      └----Vector
│　           └----Stack
└----Set

Map
│
├----Hashtable
├----HashMap
└----WeakHashMap
</code>
    </pre>
  </div>
</div>

<p>最常用的都是末端的几个（4）。</p>

<h2 id="tocAnchor-1-1-2">Collection</h2>

<p>Collection只是接口，规定了一些集合常用method，</p>

<table>
  <tbody>
    <tr>
      <td>add</td>
      <td>addAll</td>
      <td>clear</td>
    </tr>
    <tr>
      <td>contains</td>
      <td>iterator</td>
      <td>remove</td>
    </tr>
    <tr>
      <td>size</td>
      <td>toArray</td>
      <td>stream</td>
    </tr>
  </tbody>
</table>

<h2 id="tocAnchor-1-1-3">List</h2>

<p>相当于一些算法书中常提到的线性存储结构。有可能是顺序的数组实现也可能是链表实现。</p>

<h3 id="arraylist-vs-vector">ArrayList vs Vector</h3>

<p>Vector是早期的动态数组实现，并且是同步安全的。ArrayList则相反</p>

<p>增长幅度，当内部空间不够用时，vector一次增长100%，ArrayList则增长50%</p>

<h3 id="hashmap-vs-hashtable">HashMap vs HashTable</h3>

<p>Hashtable是比较早期额实现，并且是内含同步机制的，线程安全的，HashMap 是不安全的</p>

<p>HashMap允许将null作为key</p>

<h3 id="treemap-vs-hash">TreeMap vs hash*</h3>

<p>TreeMap是使用红黑树(或者改进版本)实现的，元素是按照key，内部有序的。hash的两种表都是使用hash数组的形式实现的，里面的额数据没有顺序可言，位置由hashcode决定。</p>

<h2 id="tocAnchor-1-1-4">辅助</h2>

<h3 id="comparable-和comparator">Comparable 和Comparator</h3>

<p>Comparable : compareTo方法
Comparator : compare 和 equals方法</p>

<h3 id="enumeration-iterator-接口">Enumeration Iterator 接口</h3>

<p>前者快一些，后者县城安全</p>

<p>一些辅助类，常用操作</p>

<h3 id="排序">排序</h3>

<h4 id="使用collections类">使用Collections类</h4>

<p>比如类似这样</p>

<div class="language-java highlighter-rouge">
  <div class="highlight">
    <pre class="highlight">
      <code><span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">ar</span><span class="o">,</span> <span class="k">new</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;(){</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Person</span> <span class="n">p1</span><span class="o">,</span> <span class="n">Person</span> <span class="n">p2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">p1</span><span class="o">.</span><span class="na">age</span> <span class="o">-</span> <span class="n">p2</span><span class="o">.</span><span class="na">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">});</span>
</code>
    </pre>
  </div>
</div>

<p>前提是person要实现了 Comparable接口，</p>

<h4 id="使用javautilarrays类">使用java.util.Arrays类</h4>

<p>sort(T[] a, Comparator&lt;? super T&gt; c)</p>

<p>这个抽象类提供类许多用于数组操作的方法，但是这些都不适合集合类</p>

<h1 id="tocAnchor-1-6">线程</h1>

<h2 id="tocAnchor-1-6-1">线程状态</h2>

<ul>
  <li>就绪(Runnable):线程准备运行，不一定立马就能开始执行。</li>
  <li>运行中(Running)：进程正在执行线程的代码。</li>
  <li>等待中(Waiting):线程处于阻塞的状态，等待外部的处理结束。</li>
  <li>睡眠中(Sleeping)：线程被强制睡眠。</li>
  <li>I/O阻塞(Blocked on I/O)：等待I/O操作完成。</li>
  <li>同步阻塞(Blocked on Synchronization)：等待获取锁。</li>
  <li>死亡(Dead)：线程完成了执行。</li>
</ul>

<h2 id="tocAnchor-1-6-2">sleep和 yield</h2>

<ul>
  <li>sleep() 方法给其他线程运行机会时不考虑线程的优先级，因此会给低优先级的线程以运行的机会；yield() 方法只会给相同优先级或更高优先级的线程以运行的机会；</li>
  <li>线程执行 sleep() 方法后转入阻塞（blocked）状态，而执行 yield() 方法后转入就绪（ready）状态；</li>
  <li>sleep() 方法声明抛出InterruptedException，而 yield() 方法没有声明任何异常；</li>
  <li>sleep() 方法比 yield() 方法（跟操作系统相关）具有更好的可移植性。</li>
</ul>

<h1 id="tocAnchor-1-9">流与函数式</h1>

<h2 id="tocAnchor-1-9-1">常用流方法</h2>

<h3 id="distinct-去掉重复">distinct 去掉重复</h3>

<h3 id="filter-滤掉指定的元素">filter 滤掉指定的元素</h3>

<h3 id="map-转换">map 转换</h3>

<ul>
  <li>mapToInt</li>
  <li>mapToLong</li>
  <li>mapToDouble</li>
</ul>

<h3 id="举例">举例</h3>

<div class="language-java highlighter-rouge">
  <div class="highlight">
    <pre class="highlight">
      <code><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="n">Lists</span><span class="o">.</span><span class="na">newArrayList</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">10</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="err">“</span><span class="n">sum</span> <span class="nl">is:</span><span class="err">”</span><span class="o">+</span><span class="n">nums</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="n">num</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">).</span>
            <span class="n">distinct</span><span class="o">().</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span><span class="o">).</span>
            <span class="n">peek</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">).</span><span class="na">skip</span><span class="o">(</span><span class="mi">2</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">4</span><span class="o">).</span><span class="na">sum</span><span class="o">());</span>
</code>
    </pre>
  </div>
</div>

<h1 id="tocAnchor-1-11">垃圾回收</h1>

<h2 id="tocAnchor-1-11-1">JVM</h2>

<p>java编译之后的字节码运行在JVM之上。JVM屏蔽了与具体操作系统平台相关的信息，使得Java程序只需生成在Java虚拟机上运行的目标代码（字节码），就可以在多种平台上不加修改地运行。</p>

<p>java虚拟机有不同的具体实现，oracle拥有hotspot，google为安卓专门设计了dar*，openjdk好像也是用的是自己家的实现。所以java虚拟看上去更像是一种规范，里面的实现细节比如算法之类的，各有不同。</p>

<p>虚拟机也不只运行java，只要能够生成java字节码，任何语言都可在上面运行。clojure，groovy，scala等就原生的可以在jvm上运行</p>

<p>下面主要针对hotspot</p>

<h2 id="tocAnchor-1-11-2">对象使用的特点</h2>

<p>总体上说，java的所有对象都是分配在堆区，在栈区使用的都是引用。垃圾回收基于这样的事实</p>

<ul>
  <li>绝大多数对象在短时间内变得不可达</li>
  <li>只有少量年老对象引用年轻对象.</li>
</ul>

<h2 id="tocAnchor-1-11-3">堆区内存的划分</h2>

<p>堆区的内存被划分为young generation 和 old generation</p>

<ul>
  <li>年轻代：刚刚创建的对象都存放在新生代区域，这里大多数的对象很快创建而又消失，当对象从这里被回收时，成为发生了一次minor GC。</li>
  <li>老年代：minor GC之后仍然存活的对象，会被转移到老年代(不是一次minorGC之后就被转移)，他们相对稳定，预测寿命也会更长。这里的对象回收称为major GC或者full GC</li>
  <li>持久代：permanent generation或method area。这里存放class对象（class也是对象，相当于python中的meta），静态文件，字符串常量等等，这里和老年代没有关系。发生在这里垃圾回收也被称为major GC。</li>
</ul>

<h2 id="tocAnchor-1-11-4">寻找垃圾</h2>

<h3 id="引用的分类">引用的分类</h3>

<ul>
  <li>强引用：如“Object obj = new Object（）”，只要存在，就不会回收掉被引用的对象。</li>
  <li>软引用：一些可能还有用，但并非必须的对象。在系统内存不够用时，这类引用关联的对象将被垃圾收集器回收。</li>
  <li>弱引用：非需对象，但它的强度比软引用更弱些，被弱引用关联的对象只能生存岛下一次垃圾收集发生之前。。</li>
  <li>虚引用：最弱的一种引用关系，完全不会对其生存时间构成影响，也无法通过虚引用来取得一个对象实例。为一个对象设置虚引用关联的唯一目的是希望能在这个对象被收集器回收时收到一个系统通知。</li>
</ul>

<h3 id="引用计数">引用计数</h3>

<p>奇数减到0就回收，这和objectivec的引用计数黑相似，但是无法解决循环引用孤岛问题。objectiveC也没有解决这个问题，而是把锅甩给了程序员。java没有采用这种办法。</p>

<h3 id="根搜索">根搜索</h3>

<p>把所有的引用关系看作一张图，从一个节点GC ROOT开始，寻找对应的引用节点，找到这个节点以后，继续寻找这个节点的引用节点，当所有的引用节点寻找完毕之后，剩余的节点则被认为是没有被引用到的节点，即无用的节点。这个可以解决循环引用的孤岛。</p>

<h2 id="tocAnchor-1-11-5">回收过程</h2>

<p>参考</p>
<ul>
  <li><a href="http://www.jianshu.com/p/778dd3848196">1</a></li>
</ul>

<h3 id="年轻代的回收">年轻代的回收</h3>

<p>年轻代分为3个区域按照8:1:1的比例划分</p>

<ul>
  <li>eden</li>
  <li>2个survicor区</li>
</ul>

<p>新对象在创建在eden区；当Eden区域的空间不足于分配新对象时，就会触发垃圾回收。eden区的GC会频繁进行。因而，一般在这里需要使用速度快、效率高的算法，使Eden去能尽快空闲出来。eden区minorGC之后，将存活对象转移到survivor；</p>

<p>一旦一个survivor满了，就转移到另一个survivor，并将当前这个清空。（其中一个Survivor区必须保持空）</p>

<h3 id="老年代的回收">老年代的回收</h3>

<p>以下情况基本上会执行一次GC：</p>

<ol>
  <li>年老代（Tenured）被写满</li>
  <li>持久代（Perm）被写满</li>
  <li>System.gc()被显示调用</li>
  <li>上一次GC之后Heap的各域分配策略动态变化</li>
</ol>

<h2 id="tocAnchor-1-11-6">Colletion 泄漏</h2>

<h2 id="tocAnchor-1-11-7">JVM 加载 class 文件的原理机制</h2>

<h1 id="tocAnchor-1-19">序列化</h1>

<h2 id="tocAnchor-1-19-1">transient</h2>

<p>只和Serilizable接口相关</p>

<ul>
  <li>阻止序列化</li>
  <li>只能修饰变量</li>
  <li>静态变量无论是否修饰，都不能序列化</li>
</ul>

<h3 id="例子">例子</h3>

<div class="language-java highlighter-rouge">
  <div class="highlight">
    <pre class="highlight">
      <code><span class="kn">import</span> <span class="nn">java.io.FileInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.ObjectInputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.ObjectOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TransientTest</span> <span class="o">{</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">();</span>
        <span class="n">user</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">"Alexia"</span><span class="o">);</span>
        <span class="n">user</span><span class="o">.</span><span class="na">setPasswd</span><span class="o">(</span><span class="s">"123456"</span><span class="o">);</span>
        
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"read before Serializable: "</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"username: "</span> <span class="o">+</span> <span class="n">user</span><span class="o">.</span><span class="na">getUsername</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"password: "</span> <span class="o">+</span> <span class="n">user</span><span class="o">.</span><span class="na">getPasswd</span><span class="o">());</span>
        
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">ObjectOutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectOutputStream</span><span class="o">(</span>
                    <span class="k">new</span> <span class="nf">FileOutputStream</span><span class="o">(</span><span class="s">"~/user.txt"</span><span class="o">));</span>
            <span class="n">os</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span><span class="n">user</span><span class="o">);</span> <span class="c1">// 将User对象写进文件</span>
            <span class="n">os</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
            <span class="n">os</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">try</span> <span class="o">{</span> <span class="c1">// 在反序列化之前改变username的值</span>
            <span class="n">User</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="s">"jmwang"</span><span class="o">;</span>
            <span class="n">ObjectInputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectInputStream</span><span class="o">(</span><span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span>
                    <span class="s">"~/user.txt"</span><span class="o">));</span>
            <span class="n">user</span> <span class="o">=</span> <span class="o">(</span><span class="n">User</span><span class="o">)</span> <span class="n">is</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span> <span class="c1">// 从流中读取User的数据</span>
            <span class="n">is</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nread after Serializable: "</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"username: "</span> <span class="o">+</span> <span class="n">user</span><span class="o">.</span><span class="na">getUsername</span><span class="o">());</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"password: "</span> <span class="o">+</span> <span class="n">user</span><span class="o">.</span><span class="na">getPasswd</span><span class="o">());</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">User</span> <span class="kd">implements</span> <span class="n">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">8294180014912103005L</span><span class="o">;</span>  
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">username</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">transient</span> <span class="n">String</span> <span class="n">passwd</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUsername</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">username</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setUsername</span><span class="o">(</span><span class="n">String</span> <span class="n">username</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">username</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getPasswd</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">passwd</span><span class="o">;</span> <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPasswd</span><span class="o">(</span><span class="n">String</span> <span class="n">passwd</span><span class="o">)</span> <span class="o">{</span> <span class="k">this</span><span class="o">.</span><span class="na">passwd</span> <span class="o">=</span> <span class="n">passwd</span><span class="o">;</span> <span class="o">}</span>

<span class="o">}</span>
</code>
    </pre>
  </div>
</div>

<div class="language-java highlighter-rouge">
  <div class="highlight">
    <pre class="highlight">
      <code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExternalizableTest</span> <span class="kd">implements</span> <span class="n">Externalizable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">transient</span> <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="s">"是的，我将会被序列化，不管我是否被transient关键字修饰"</span><span class="o">;</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">writeExternal</span><span class="o">(</span><span class="n">ObjectOutput</span> <span class="n">out</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">out</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">readExternal</span><span class="o">(</span><span class="n">ObjectInput</span> <span class="n">in</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span>
            <span class="n">ClassNotFoundException</span> <span class="o">{</span>
        <span class="n">content</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code>
    </pre>
  </div>
</div>

    </div>

    <hr>

  
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories#CSE-ref">
    		CSE <span>15</span>
    	</a></li>
    
  


    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags#java-ref">java <span>2</span> </a></li>
    
  



    </ul>
    


    <nav aria-label="Page navigation">
      
      <ul class="pagination">
      
        <li class="prev"><a href="/posts/%E8%BA%AB%E4%BB%BD%E4%BF%A1%E6%81%AF" title="身份信息">前一篇</a></li>
      

        <li><a href="">目录</a></li>
        
      
        <li class="next"><a href="/posts/awk-sed-grep%E7%AE%80%E4%BB%8B" title="awk-sed-grep简介">后一篇</a></li>
      
      </ul>
    </nav>


<script type="text/javascript">
    $(document).ready(
        function expand() {
            var node = $("h1")
            for (var i = 0; i < node.length; i++) {
                var t = node[i]
                  var num = $("[href='#" + t.id + "']").children("span.tocnumber")
                  t.innerText = num.text() + "    " + t.innerText
            }

            node = $("h2")
            for (var i = 0; i < node.length; i++) {
                  var t = node[i]
                  var num = $("[href='#" + t.id + "']").children("span.tocnumber")
                  t.innerText = num.text() + "   " + t.innerText
            }

            
        }
    );
</script>
    
  </div>
</div>

      </div>
      <hr/>
      <center> <footer>
        &copy; 2019 yacc3 with help from <a href="http://jekyllrb.com" target="_blank" title="The simple, blog-aware, static site generator.">Jekyll</a>. Hosted by <a href="https://pages.github.com/" target="_blank" title="GitHub Pages">GitHub</a>.
        <br><br>
      </footer> </center>


    </div>


  </body>
</html>

